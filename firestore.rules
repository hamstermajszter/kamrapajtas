rules_version='2'

service cloud.firestore {
  match /databases/{database}/documents {
    match /pantryItems/{itemId} {
      allow read, write: if request.auth != null && (
        request.method == 'create' && request.resource.data.userId == request.auth.uid ||
        request.method != 'create' && resource.data.userId == request.auth.uid
      );
    }
  }
}
